# NHL +EV Betting Finder - Web Dashboard

A clean, modern web interface for displaying NHL betting analysis and +EV recommendations.

## Quick Start

### Option 1: Test Locally

1. Run the analysis:
   ```bash
   python3 main.py --stake 0.50 --conservative
   ```

2. Start a local web server:
   ```bash
   python3 -m http.server 8000
   ```

3. Open in browser:
   ```
   http://localhost:8000
   ```

### Option 2: Deploy to Firebase Hosting

1. Run the deployment script:
   ```bash
   chmod +x deploy.sh
   ./deploy.sh
   ```

2. Install Firebase CLI (if needed):
   ```bash
   npm install -g firebase-tools
   ```

3. Login to Firebase:
   ```bash
   firebase login
   ```

4. Initialize Firebase in the web_deploy folder:
   ```bash
   cd web_deploy
   firebase init hosting
   ```
   - Select your existing Firebase project (projects-brawlstars)
   - Set public directory to: `.` (current directory)
   - Configure as single-page app: **No**
   - Don't overwrite index.html: **No**

5. Deploy:
   ```bash
   firebase deploy
   ```

6. Your site will be live at: `https://projects-brawlstars.web.app/nhllines` (or similar)

## Files

- `index.html` - Main HTML structure
- `styles.css` - Styling and responsive design
- `app.js` - JavaScript to load and display analysis data
- `latest_analysis.json` - Generated by main.py (data source)

## Features

- ✅ Clean, modern design with gradient background
- ✅ Responsive layout (mobile-friendly)
- ✅ Grade-based bet recommendations (A, B+, B, C+)
- ✅ Detailed game-by-game analysis
- ✅ Model vs Market probability comparison
- ✅ Auto-refresh every 5 minutes
- ✅ Summary statistics dashboard

## Updating the Data

To update the betting analysis:

1. Run the analysis script:
   ```bash
   python3 main.py --stake 0.50 --conservative
   ```

2. Copy the new `latest_analysis.json` to your web directory

3. If using Firebase, redeploy:
   ```bash
   cd web_deploy
   cp ../latest_analysis.json .
   firebase deploy
   ```

## Automation (Optional)

To automatically update the analysis and deploy:

1. Create a cron job (macOS/Linux):
   ```bash
   crontab -e
   ```

2. Add this line to run every hour:
   ```
   0 * * * * cd /Users/lucknox/Desktop/nhllines && python3 main.py --stake 0.50 --conservative && cp latest_analysis.json web_deploy/ && cd web_deploy && firebase deploy --only hosting
   ```

## Integration with Your Project Hub

To add this to your existing Firebase project hub:

1. Create a subdirectory in your projects site:
   ```
   projects/
   ├── index.html (your main hub)
   └── nhllines/
       ├── index.html
       ├── styles.css
       ├── app.js
       └── latest_analysis.json
   ```

2. Add a link in your main project hub to `/nhllines/`

## Notes

- The web interface reads from `latest_analysis.json` - make sure it's in the same directory
- Data refreshes automatically every 5 minutes when the page is open
- For production use, consider setting up Cloud Functions to run the analysis automatically
- API keys are NOT exposed in the web interface (they stay in your backend)

## Troubleshooting

**"Could not load analysis data"**
- Make sure `latest_analysis.json` exists in the same directory as `index.html`
- Check browser console for CORS errors (use a proper web server, not file://)

**Styling looks broken**
- Ensure `styles.css` is in the same directory
- Check browser console for 404 errors

**Data not updating**
- Run `python3 main.py --stake 0.50 --conservative` to generate fresh data
- Copy the new `latest_analysis.json` to your web directory
